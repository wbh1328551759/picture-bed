{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","attributes","url","src","filename","target","href","tip","Historty","List"],"mappings":"8WAQA,IAAMA,E,MAAMC,EAAOC,IAAV,KA8DMC,EAvDGC,aAAS,WAAO,IACzBC,EAAgBC,cAAhBD,aAcP,OARAE,qBAAU,WAER,OAAO,WACLF,EAAaG,WAEd,IAID,6BACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAjBW,WACfN,EAAaO,QAiBTC,SAAUR,EAAaS,WAAaT,EAAaQ,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACEC,WAAYX,EAAaY,KACzBC,WACE,SAAAC,GAAI,OAAK,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IAC3BH,EAAKI,WAAWC,IACf,oCACE,6BACE,kBAACxB,EAAD,CAAKyB,IAAKN,EAAKI,WAAWC,IAAID,WAAWC,OAE3C,6BACE,4BAAKL,EAAKI,WAAWC,IAAID,WAAYJ,EAAKI,WAAWG,SAAS,OAEhE,6BACE,uBAAGC,OAAO,SACPC,KAAMT,EAAKI,WAAWC,IAAID,WAAWC,KAAML,EAAKI,WAAWC,IAAML,EAAKI,WAAWC,IAAID,WAAWC,IAAM,MAEvG,wBAIXnB,EAAaS,WAAaT,EAAaQ,SACtC,6BACE,kBAAC,IAAD,CAAMgB,IAAI,8BChDTC,UATf,WACE,OACE,oCACE,wDACA,kBAACC,EAAD","file":"static/js/9.111725f7.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\r\nimport {observer} from 'mobx-react';\r\nimport {useStores} from '../stores';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport {List, Spin} from 'antd';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst Img = styled.img`\r\n  max-width: 100px;\r\n  max-height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`;\r\n\r\nconst Component = observer(() => {\r\n  const {HistoryStore} = useStores();\r\n\r\n  const loadMore = () => {\r\n    HistoryStore.find();\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      HistoryStore.reset()\r\n    }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <InfiniteScroll\r\n        initialLoad={true}\r\n        pageStart={0}\r\n        loadMore={loadMore}\r\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n        useWindow={false}\r\n      >\r\n        <List\r\n          dataSource={HistoryStore.list}\r\n          renderItem={\r\n            item => (<List.Item key={item.id}>\r\n              {item.attributes.url ?\r\n                <>\r\n                  <div>\r\n                    <Img src={item.attributes.url.attributes.url}/>\r\n                  </div>\r\n                  <div>\r\n                    <h5>{item.attributes.url.attributes? item.attributes.filename:null}</h5>\r\n                  </div>\r\n                  <div>\r\n                    <a target=\"_blank\"\r\n                       href={item.attributes.url.attributes.url}>{item.attributes.url ? item.attributes.url.attributes.url : ''}</a>\r\n                  </div>\r\n                </> : '已删除'}\r\n            </List.Item>)\r\n          }\r\n        >\r\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n            <div>\r\n              <Spin tip=\"加载中\"/>\r\n            </div>\r\n          )}\r\n        </List>\r\n      </InfiniteScroll>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Component;","import React from 'react'\r\nimport List from '../components/List'\r\n\r\n\r\nfunction Historty(){\r\n  return(\r\n    <>\r\n      <h1>上传历史</h1>\r\n      <List />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Historty"],"sourceRoot":""}